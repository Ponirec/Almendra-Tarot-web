<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mapa de la Vida - Tarot</title>
  <link rel="stylesheet" href="mapadelavida.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="landing.css">
</head>
<body>
  <header class="header">
    <div class="menu-toggle" id="menu-toggle">
      ☰
    </div>
    <nav class="header__menu" id="menu">
      <a class="header__menu__link" href="index.html">Home</a>
      <a class="header__menu__link" href="cartadehoy.html">Carta de Hoy</a>
      <a class="header__menu__link" href="about.html">Sobre mi</a>
      <a class="header__menu__link" href="servicios.html">Servicios</a>
      <a class="header__menu__link" href="testimonios.html">Testimonios</a>
      <a class="header__menu__link" href="mapadelavida.html">Mapa de la vida</a>
      <a class="header__menu__link" href="contacto.html">Contacto</a>
    </nav>
  </header>
  
  <div class="tarot-map">
    <h1>El Mapa de la Vida</h1>
    <p>Explora tu viaje espiritual a través de los Arcanos Mayores del Tarot.</p>

    <!-- Camino de cartas -->
     <!-- Hidden -->
    <div style="display: none;" class="card-path">
      <div class="tarot-card" data-card="El Loco">
        <img src="img/Elloco.png" alt="El Loco" />
        <span>El Loco</span>
      </div>
      <div class="tarot-card" data-card="El Mago">
        <img src="img/Elmago.png" alt="El Mago" />
        <span>El Mago</span>
      </div>
      <div class="tarot-card" data-card="La Sacerdotisa">
        <img src="img/Lasacerdotisa.png" alt="La Sacerdotisa" />
        <span>La Sacerdotisa</span>
      </div>
      <div class="tarot-card" data-card="La Carro">
        <img src="img/Elcarro.png" alt="La Carro" />
        <span>El Carro</span>
      </div>
      <!-- Puedes agregar más cartas aquí -->
    </div>

    <!-- Sección: Mi viaje -->
    <div class="mi-viaje">
      <h3>🔮 ¿En qué etapa estás tú?</h3>
      <p>Responde y descubre dónde te encuentras en el mapa.</p>
      <form id="formViaje">
        <label>¿Te sientes en búsqueda de algo nuevo?</label><br>
        <select class="button-map" id="pregunta1">
          <option value="" disabled selected>Selecciona una opción</option>
          <option value="si">Sí</option>
          <option value="no">No</option>
          <option value="a veces">A veces</option>
        </select><br><br>

        <label>¿Estás enfrentando desafíos internos?</label><br>
        <select class="button-map" id="pregunta2">
          <option value="" disabled selected>Selecciona una opción</option>
          <option value="si">Sí</option>
          <option value="no">No</option>
          <option value="a veces">A veces</option>
        </select><br><br>

        <label>¿Te sientes realizado/a con tu camino?</label><br>
        <select class="button-map" id="pregunta3">
          <option value="" disabled selected>Selecciona una opción</option>
          <option value="si">Sí</option>
          <option value="no">No</option>
          <option value="a veces">A veces</option>
        </select><br><br>

        <button class="button" id="verEtapa" type="submit">Ver mi etapa</button>

      </form>
      <div id="resultadoViaje" class="resultado-viaje"></div>
    </div>
  </div>

  <!-- Modal -->
  <div class="card-modal" id="cardModal">
    <div class="modal-content">
      <span id="closeModal">&times;</span>
      <h3 id="modalTitle"></h3>
      <p id="modalMeaning"></p>
    </div>
  </div>

  <script src="menuactivo.js"></script>
  <script src="mapadelavida.js"></script>

  <!-- FORMULARIO MAILCHIMP -->
  <section class="formulario-mailchimp">
    <form action="https://gmail.us16.list-manage.com/subscribe/post?u=1a94f58b390be563228f4fafa&amp;id=40e40892f2" method="POST" target="_self" novalidate onsubmit="redirectToGracias()">

      <h2>Suscríbete a las novedades de Almendra Tarot ✨</h2>
  
      <label for="mce-FNAME">Nombre:</label>
      <input type="text" name="FNAME" id="mce-FNAME" placeholder="Tu nombre" required>
  
      <label for="mce-LNAME">Apellido:</label>
      <input type="text" name="LNAME" id="mce-LNAME" placeholder="Tu apellido" required>
  
      <label for="mce-EMAIL">Correo electrónico:</label>
      <input type="email" name="EMAIL" id="mce-EMAIL" placeholder="tu@email.com" required>
  
      <input type="submit" value="Suscribirme" class="boton-suscribir">

      <script>
        // Mostrar el mensaje solo si se llega con el parámetro ?suscrito=ok
        const params = new URLSearchParams(window.location.search);
        const mensaje = document.querySelector('.mensaje-suscripcion-exitosa');
      
        if (mensaje && !params.has('suscrito')) {
          mensaje.style.display = 'none';
        }
      </script>
      
      
      
    </form>

   <!-- <div class="mensaje-suscripcion-exitosa" style="margin-top: 20px; color: green; text-align: center;">
      ¡Gracias por suscribirte! 🌟 Revisa tu correo 📬
    </div> -->
    
  </section>
  


  <div class="container" style="margin-top: 40px; text-align: center;">
    <button class="button" onclick="goToPreviousPage()">← Volver</button>
  </div>    
  
  <script>
    function goToPreviousPage() {
      const path = window.location.pathname.toLowerCase();
      
      // Orden personalizado de las secciones
      const pages = [
        "index.html",
        "cartadehoy.html",
        "about.html",
        "servicios.html",
        "testimonios.html",
        "mapadelavida.html",
        "contacto.html"
      ];
  
      const currentPage = path.split("/").pop();
      const currentIndex = pages.indexOf(currentPage);
  
      if (currentIndex > 0) {
        const previousPage = pages[currentIndex - 1];
        window.location.href = previousPage;
      } else {
        window.location.href = "index.html";
      }
    }
  </script>
  
  <script>
    function redirectToGracias() {
      setTimeout(() => {
        window.location.href = "mapadelavida.html#gracias";
      }, 100);
    }
  
    // Mostrar mensaje si la URL tiene #gracias
    document.addEventListener("DOMContentLoaded", () => {
      if (window.location.hash === "#gracias") {
        const mensaje = document.createElement("div");
        mensaje.textContent = "¡Gracias por suscribirte a Almendra Tarot! 🌟 Revisa tu correo 📬";
        mensaje.style.background = "#f8f1e4";
        mensaje.style.border = "2px solid #b17f59";
        mensaje.style.padding = "15px";
        mensaje.style.margin = "30px auto";
        mensaje.style.borderRadius = "10px";
        mensaje.style.maxWidth = "400px";
        mensaje.style.textAlign = "center";
        mensaje.style.color = "#5a3e1b";
        mensaje.style.fontFamily = "Alice, serif";
  
        const container = document.querySelector(".container");
        if (container) {
          container.parentNode.insertBefore(mensaje, container);
        }
      }
    });
  </script>
  
</body>
</html>
